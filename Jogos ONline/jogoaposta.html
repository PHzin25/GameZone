<!DOCTYPE html>
<html lang="pt-BR">
<head>
 <meta charset="UTF-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
 <title>Corrida de Apostas</title>
<link rel="stylesheet" href="jogoaposta.css">
</head>
<body>
<h1>Corrida de Apostas </h1>
<h6>Abaixo coloque o valor da aposta e selecione em quem ira apostar o seu saldo atualiza ao ganhar a aposta ou ao perder</h6>
<div class="pista">
   <img src="download.jpg" id="pista">
<div id="corredor1" class="corredor">1</div>
<div id="corredor2" class="corredor">2</div>
</div>

<div id="apostas">
<p>Saldo: R$ <span id="saldo">100.00</span></p>
<label for="valorAposta">Valor da Aposta:</label>
<input type="number" id="valorAposta" min="1" max="9999" value="10" />
<br>
<label for="escolha">Apostar em:</label>
<select id="escolha">
<option value="1">Corredor 1 </option>
<option value="2">Corredor 2 </option>
</select>
</div>
<div id="resultado"></div>
<div id="botoes">
   <button onclick="fundo()">Chamar Corrida</button>
   <button onclick="iniciarCorrida()" id="iniciarCorrida">Iniciar Corrida</button>
</div>


<script>
   let saldoAtual = 100;
function iniciarCorrida() {
const corredor1 = document.getElementById("corredor1");
const corredor2 = document.getElementById("corredor2");
const resultado = document.getElementById("resultado");
const saldoElemento = document.getElementById("saldo");
const valorAposta = parseFloat(document.getElementById("valorAposta").value);
const escolha = document.getElementById("escolha").value;
if (valorAposta <= 0 || valorAposta > saldoAtual) {
resultado.innerText = "Valor da aposta invÃ¡lido!";
return;
}
corredor1.style.animation = "none";
corredor2.style.animation = "none";
void corredor1.offsetWidth;
void corredor2.offsetWidth;
resultado.innerText = "";
const tempo1 = Math.random() * 3 + 3;
const tempo2 = Math.random() * 3 + 3;
corredor1.style.animation = `correr ${tempo1}s linear forwards`;
corredor2.style.animation = `correr ${tempo2}s linear forwards`;
setTimeout(() => {
let vencedor = tempo1 < tempo2 ? "1" : tempo2 < tempo1 ? "2" : "empate";
if (vencedor === "empate") {
resultado =alert ('Empate! A aposta serÃ¡ devolvida.');
} else if (escolha === vencedor) {
const ganho = valorAposta * 1.5;
saldoAtual += ganho;
resultado.innerText = `VocÃª ganhou! ðŸ¤‘ Recebeu R$ ${ganho.toFixed(2)}`;
} else {
saldoAtual -= valorAposta;
resultado.innerText = `VocÃª perdeu... ðŸ˜¢ Perdeu R$ ${valorAposta.toFixed(2)}`;
}
saldoElemento.innerText = saldoAtual.toFixed(2);
if (saldoAtual <= 0) {
resultado= alert ('Acabou seu saldo! Recarregue a pÃ¡gina.');
}
}, Math.max(tempo1, tempo2) * 1000);
}
function fundo(){
    document.getElementById('pista').style.display = 'block'
    document.getElementById('iniciarCorrida').style.display = "block"
    document.getElementById('corredor1').style.display= 'block'
    document.getElementById('corredor2').style.display= 'block'
}
</script>
</body>
</html>